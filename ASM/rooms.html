<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tất cả phòng • Hotel Booking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <style>
        :root{
            --primary: #9C27B0;
            --primary-light: #d999d9;
            --primary-dark: #7B1FA2;
            --bg: #f7f7f9;
            --text: #333;
            --success: #4CAF50;
            --error: #f44336;
            --warning: #FF9800;
            --border: #e0e0e0;
        }
        
        *{box-sizing:border-box;margin:0;padding:0;font-family:Nunito,Roboto,Arial,sans-serif;}
        body{background:var(--bg);color:var(--text);line-height:1.6;}
        a{text-decoration:none;color:inherit;}
        .container{width:90%;max-width:1200px;margin:0 auto;}

        /* Header */
        header{background:#fff;padding:15px 0;box-shadow:0 2px 4px rgba(0,0,0,.08);position:sticky;top:0;z-index:100;}
        .header-flex{display:flex;justify-content:space-between;align-items:center;}
        .logo{font-size:24px;font-weight:700;color:var(--primary);}
        nav{display:flex;gap:20px;font-weight:600;}
        nav a{padding:8px 16px;border-radius:20px;transition:all 0.3s ease;}
        nav a:hover, nav a.active{background:var(--primary-light);color:#fff;}

        /* Hero Section */
        .hero{
            background: linear-gradient(rgba(0,0,0,.5), rgba(0,0,0,.5)), url('download (8).jfif') center/cover no-repeat;
            color:#fff;padding:60px 0;text-align:center;margin-bottom:40px;
        }
        .hero h1{font-size:36px;margin-bottom:15px;}
        .hero p{font-size:18px;opacity:0.9;}

        /* Filter Section */
        .filters{
            background:#fff;padding:25px;border-radius:12px;margin-bottom:30px;
            box-shadow:0 2px 8px rgba(0,0,0,.08);
        }
        .filter-row{display:flex;gap:20px;align-items:center;flex-wrap:wrap;margin-bottom:20px;}
        .filter-group{display:flex;flex-direction:column;gap:8px;min-width:150px;}
        .filter-group label{font-weight:600;color:var(--text);font-size:14px;}
        .filter-group select, .filter-group input{
            padding:10px 12px;border:2px solid var(--border);border-radius:6px;
            background:#fff;font-size:14px;transition:border-color 0.3s;
        }
        .filter-group select:focus, .filter-group input:focus{
            outline:none;border-color:var(--primary);
        }
        
        .price-range{display:flex;gap:10px;align-items:center;}
        .price-range input{width:120px;}
        
        .filter-buttons{display:flex;gap:15px;}
        .btn{
            padding:10px 20px;border:none;border-radius:6px;font-weight:600;
            cursor:pointer;transition:all 0.3s ease;
        }
        .btn-primary{background:var(--primary);color:#fff;}
        .btn-primary:hover{background:var(--primary-dark);}
        .btn-secondary{background:#f5f5f5;color:var(--text);}
        .btn-secondary:hover{background:#e0e0e0;}

        /* Quick Filters */
        .quick-filters{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;}
        .quick-filter{
            padding:8px 16px;background:#f5f5f5;border:2px solid transparent;
            border-radius:20px;cursor:pointer;font-size:14px;transition:all 0.3s;
        }
        .quick-filter:hover, .quick-filter.active{
            background:var(--primary-light);color:#fff;border-color:var(--primary);
        }

        /* Results Header */
        .results-header{
            display:flex;justify-content:space-between;align-items:center;
            margin-bottom:25px;flex-wrap:wrap;gap:15px;
        }
        .results-info{font-size:16px;color:var(--text);}
        .view-controls{display:flex;gap:10px;align-items:center;}
        .view-toggle{display:flex;border:2px solid var(--border);border-radius:6px;overflow:hidden;}
        .view-btn{
            padding:8px 12px;background:#fff;border:none;cursor:pointer;
            transition:all 0.3s;
        }
        .view-btn.active{background:var(--primary);color:#fff;}
        .sort-select{padding:8px 12px;border:2px solid var(--border);border-radius:6px;background:#fff;}

        /* Room Grid */
        .rooms-grid{
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(350px,1fr));
            gap:25px;
            margin-bottom:40px;
        }
        .rooms-grid.list-view{
            grid-template-columns:1fr;
        }
        
        .room-card{
            background:#fff;border-radius:12px;overflow:hidden;
            box-shadow:0 4px 12px rgba(0,0,0,.1);
            transition:all 0.3s ease;position:relative;
        }
        .room-card:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,.15);}
        
        .room-card.list-view{
            display:flex;flex-direction:row;
        }
        .room-card.list-view .room-image{
            width:300px;height:200px;flex-shrink:0;
        }
        .room-card.list-view .room-content{
            flex:1;display:flex;flex-direction:column;
        }
        
        .room-image{
            position:relative;height:220px;overflow:hidden;
        }
        .room-image img{
            width:100%;height:100%;object-fit:cover;
            transition:transform 0.3s;
        }
        .room-card:hover .room-image img{transform:scale(1.05);}
        
        .room-badges{
            position:absolute;top:15px;left:15px;display:flex;flex-direction:column;gap:5px;
        }
        .badge{
            padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600;
        }
        .badge.available{background:var(--success);color:#fff;}
        .badge.popular{background:var(--warning);color:#fff;}
        .badge.new{background:var(--primary);color:#fff;}
        
        .favorite-btn{
            position:absolute;top:15px;right:15px;
            background:rgba(255,255,255,0.9);border:none;
            width:35px;height:35px;border-radius:50%;
            cursor:pointer;display:flex;align-items:center;justify-content:center;
            transition:all 0.3s;
        }
        .favorite-btn:hover{background:#fff;transform:scale(1.1);}
        .favorite-btn.active{color:var(--error);}
        
        .room-content{padding:20px;}
        .room-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;}
        .room-type{font-size:20px;font-weight:700;color:var(--text);}
        .room-rating{display:flex;align-items:center;gap:5px;color:var(--warning);}
        
        .room-features{margin-bottom:15px;}
        .features-list{display:flex;flex-wrap:wrap;gap:8px;}
        .feature{
            background:var(--bg);padding:4px 8px;border-radius:12px;
            font-size:12px;color:#666;
        }
        
        .room-amenities{margin-bottom:15px;}
        .amenities-title{font-weight:600;color:var(--primary);margin-bottom:8px;font-size:14px;}
        .amenities-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:5px;}
        .amenity{font-size:13px;color:#666;display:flex;align-items:center;gap:5px;}
        
        .room-footer{
            display:flex;justify-content:space-between;align-items:center;
            padding-top:15px;border-top:1px solid #eee;
        }
        .price-section{text-align:left;}
        .current-price{font-size:22px;font-weight:700;color:var(--primary);}
        .original-price{
            font-size:14px;color:#999;text-decoration:line-through;
            margin-right:8px;
        }
        .discount{
            background:var(--error);color:#fff;padding:2px 6px;
            border-radius:8px;font-size:11px;margin-left:5px;
        }
        .price-note{font-size:12px;color:#666;margin-top:2px;}
        
        .room-actions{display:flex;gap:10px;}
        .btn-small{padding:8px 16px;font-size:14px;border-radius:6px;}
        .btn-outline{
            background:transparent;border:2px solid var(--primary);
            color:var(--primary);
        }
        .btn-outline:hover{background:var(--primary);color:#fff;}

        /* Pagination */
        .pagination{
            display:flex;justify-content:center;align-items:center;
            gap:10px;margin:40px 0;
        }
        .page-btn{
            padding:8px 12px;border:2px solid var(--border);
            background:#fff;color:var(--text);border-radius:6px;
            cursor:pointer;transition:all 0.3s;
        }
        .page-btn:hover, .page-btn.active{
            background:var(--primary);color:#fff;border-color:var(--primary);
        }
        .page-btn:disabled{
            opacity:0.5;cursor:not-allowed;
        }

        /* Loading */
        .loading{
            text-align:center;padding:40px;display:none;
        }
        .loading.show{display:block;}
        .spinner{
            border:3px solid #f3f3f3;border-top:3px solid var(--primary);
            border-radius:50%;width:40px;height:40px;
            animation:spin 1s linear infinite;margin:0 auto 15px;
        }
        @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}

        /* No Results */
        .no-results{
            text-align:center;padding:60px 20px;background:#fff;
            border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);
        }
        .no-results h3{color:var(--primary);margin-bottom:15px;font-size:24px;}

        /* Mobile Responsive */
        @media(max-width:768px){
            .hero h1{font-size:28px;}
            .filter-row{flex-direction:column;align-items:stretch;}
            .filter-group{min-width:auto;}
            .results-header{flex-direction:column;align-items:stretch;}
            .room-card.list-view{flex-direction:column;}
            .room-card.list-view .room-image{width:100%;height:200px;}
            .room-footer{flex-direction:column;gap:15px;text-align:center;}
            .room-actions{justify-content:center;}
        }
    </style>
</head>

<body>

    <!-- Header -->
    <header>
        <div class="container header-flex">
            <a href="main.html" class="logo">🏨 HotelBooking</a>
            <nav>
                <a href="main.html">Trang chủ</a>
                <a href="rooms.html" class="active">Phòng</a>
                <a href="offers.html">Ưu đãi</a>
                <a href="contact.html">Liên hệ</a>
                <a href="profile.html">Hồ Sơ</a>
                <a href="login.html">Đăng nhập</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>🏨 Tất cả phòng khách sạn</h1>
            <p>Khám phá bộ sưu tập phòng đa dạng với mức giá tốt nhất</p>
        </div>
    </section>

    <div class="container">
        
        <!-- Filters -->
        <div class="filters">
            <div class="filter-row">
                <div class="filter-group">
                    <label>📅 Ngày nhận phòng</label>
                    <input type="date" id="checkin" onchange="applyFilters()">
                </div>
                <div class="filter-group">
                    <label>📅 Ngày trả phòng</label>
                    <input type="date" id="checkout" onchange="applyFilters()">
                </div>
                <div class="filter-group">
                    <label>👥 Số khách</label>
                    <select id="guests" onchange="applyFilters()">
                        <option value="">Tất cả</option>
                        <option value="1">1 người</option>
                        <option value="2">2 người</option>
                        <option value="3">3 người</option>
                        <option value="4">4+ người</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>🏠 Loại phòng</label>
                    <select id="roomType" onchange="applyFilters()">
                        <option value="">Tất cả</option>
                        <option value="Single">Single</option>
                        <option value="Double">Double</option>
                        <option value="Suite">Suite</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>💰 Khoảng giá (VNĐ)</label>
                    <div class="price-range">
                        <input type="number" id="minPrice" placeholder="Từ" onchange="applyFilters()">
                        <span>-</span>
                        <input type="number" id="maxPrice" placeholder="Đến" onchange="applyFilters()">
                    </div>
                </div>
            </div>
            
            <div class="filter-buttons">
                <button class="btn btn-primary" onclick="applyFilters()">🔍 Áp dụng</button>
                <button class="btn btn-secondary" onclick="clearFilters()">🔄 Xóa bộ lọc</button>
            </div>
        </div>

        <!-- Quick Filters -->
        <div class="quick-filters">
            <div class="quick-filter" onclick="toggleQuickFilter(this, 'available')">✅ Còn trống</div>
            <div class="quick-filter" onclick="toggleQuickFilter(this, 'popular')">🔥 Phổ biến</div>
            <div class="quick-filter" onclick="toggleQuickFilter(this, 'discount')">💸 Giảm giá</div>
            <div class="quick-filter" onclick="toggleQuickFilter(this, 'new')">✨ Mới</div>
            <div class="quick-filter" onclick="toggleQuickFilter(this, 'luxury')">👑 Cao cấp</div>
        </div>

        <!-- Results Header -->
        <div class="results-header">
            <div class="results-info">
                <span id="resultsCount">Hiển thị 12 phòng</span>
            </div>
            <div class="view-controls">
                <div class="view-toggle">
                    <button class="view-btn active" onclick="setViewMode('grid')">⊞</button>
                    <button class="view-btn" onclick="setViewMode('list')">☰</button>
                </div>
                <select class="sort-select" id="sortBy" onchange="sortRooms()">
                    <option value="price_asc">Giá: Thấp → Cao</option>
                    <option value="price_desc">Giá: Cao → Thấp</option>
                    <option value="rating">Đánh giá cao nhất</option>
                    <option value="popular">Phổ biến nhất</option>
                    <option value="newest">Mới nhất</option>
                </select>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Đang tải phòng...</p>
        </div>

        <!-- Rooms Grid -->
        <div class="rooms-grid" id="roomsGrid">
            <!-- Room Card 1 -->
            <div class="room-card" data-type="Double" data-price="1500000" data-rating="4.8" data-tags="available,popular">
                <div class="room-image">
                    <img src="download (3).jfif" alt="Deluxe Sea View">
                    <div class="room-badges">
                        <span class="badge available">Còn trống</span>
                        <span class="badge popular">Phổ biến</span>
                    </div>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">♡</button>
                </div>
                <div class="room-content">
                    <div class="room-header">
                        <h3 class="room-type">Deluxe Sea View</h3>
                        <div class="room-rating">
                            <span>⭐ 4.8</span>
                        </div>
                    </div>
                    <div class="room-features">
                        <div class="features-list">
                            <span class="feature">📐 30 m²</span>
                            <span class="feature">🛏️ 1 giường đôi</span>
                            <span class="feature">🌊 View biển</span>
                            <span class="feature">👥 2 khách</span>
                        </div>
                    </div>
                    <div class="room-amenities">
                        <div class="amenities-title">🏨 Tiện nghi:</div>
                        <div class="amenities-grid">
                            <div class="amenity">📶 WiFi miễn phí</div>
                            <div class="amenity">❄️ Điều hòa</div>
                            <div class="amenity">📺 TV LCD</div>
                            <div class="amenity">🍷 Minibar</div>
                            <div class="amenity">🚿 Vòi sen</div>
                            <div class="amenity">🔐 Két an toàn</div>
                        </div>
                    </div>
                    <div class="room-footer">
                        <div class="price-section">
                            <div>
                                <span class="original-price">1,800,000₫</span>
                                <span class="current-price">1,500,000₫</span>
                                <span class="discount">-17%</span>
                            </div>
                            <div class="price-note">/ đêm, đã bao gồm thuế</div>
                        </div>
                        <div class="room-actions">
                            <button class="btn btn-small btn-outline" onclick="viewRoomDetails(1)">Chi tiết</button>
                            <button class="btn btn-small btn-primary" onclick="bookRoom(1)">Đặt ngay</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Room Card 2 -->
            <div class="room-card" data-type="Suite" data-price="2800000" data-rating="4.9" data-tags="available,luxury">
                <div class="room-image">
                    <img src="download (4).jfif" alt="Family Suite">
                    <div class="room-badges">
                        <span class="badge available">Còn trống</span>
                        <span class="badge new">Mới</span>
                    </div>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">♡</button>
                </div>
                <div class="room-content">
                    <div class="room-header">
                        <h3 class="room-type">Family Suite</h3>
                        <div class="room-rating">
                            <span>⭐ 4.9</span>
                        </div>
                    </div>
                    <div class="room-features">
                        <div class="features-list">
                            <span class="feature">📐 45 m²</span>
                            <span class="feature">🛏️ 2 giường queen</span>
                            <span class="feature">👨‍👩‍👧‍👦 Gia đình</span>
                            <span class="feature">👥 4 khách</span>
                        </div>
                    </div>
                    <div class="room-amenities">
                        <div class="amenities-title">🏨 Tiện nghi:</div>
                        <div class="amenities-grid">
                            <div class="amenity">📶 WiFi tốc độ cao</div>
                            <div class="amenity">❄️ Điều hòa 2 chiều</div>
                            <div class="amenity">📺 Smart TV 55"</div>
                            <div class="amenity">🍷 Minibar cao cấp</div>
                            <div class="amenity">🛁 Bồn tắm</div>
                            <div class="amenity">🎮 Khu vui chơi trẻ em</div>
                        </div>
                    </div>
                    <div class="room-footer">
                        <div class="price-section">
                            <div class="current-price">2,800,000₫</div>
                            <div class="price-note">/ đêm, bao gồm buffet sáng</div>
                        </div>
                        <div class="room-actions">
                            <button class="btn btn-small btn-outline" onclick="viewRoomDetails(2)">Chi tiết</button>
                            <button class="btn btn-small btn-primary" onclick="bookRoom(2)">Đặt ngay</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Room Card 3 -->
            <div class="room-card" data-type="Single" data-price="950000" data-rating="4.5" data-tags="available,discount">
                <div class="room-image">
                    <img src="download (5).jfif" alt="Standard City View">
                    <div class="room-badges">
                        <span class="badge available">Còn trống</span>
                    </div>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">♡</button>
                </div>
                <div class="room-content">
                    <div class="room-header">
                        <h3 class="room-type">Standard City View</h3>
                        <div class="room-rating">
                            <span>⭐ 4.5</span>
                        </div>
                    </div>
                    <div class="room-features">
                        <div class="features-list">
                            <span class="feature">📐 22 m²</span>
                            <span class="feature">🛏️ 1 giường queen</span>
                            <span class="feature">🏙️ View thành phố</span>
                            <span class="feature">👥 2 khách</span>
                        </div>
                    </div>
                    <div class="room-amenities">
                        <div class="amenities-title">🏨 Tiện nghi:</div>
                        <div class="amenities-grid">
                            <div class="amenity">📶 WiFi miễn phí</div>
                            <div class="amenity">❄️ Điều hòa</div>
                            <div class="amenity">📺 TV LCD 32"</div>
                            <div class="amenity">☕ Pha trà/cà phê</div>
                            <div class="amenity">🚿 Vòi sen nóng lạnh</div>
                            <div class="amenity">🧴 Đồ dùng cá nhân</div>
                        </div>
                    </div>
                    <div class="room-footer">
                        <div class="price-section">
                            <div>
                                <span class="original-price">1,200,000₫</span>
                                <span class="current-price">950,000₫</span>
                                <span class="discount">-21%</span>
                            </div>
                            <div class="price-note">/ đêm, giá ưu đãi</div>
                        </div>
                        <div class="room-actions">
                            <button class="btn btn-small btn-outline" onclick="viewRoomDetails(3)">Chi tiết</button>
                            <button class="btn btn-small btn-primary" onclick="bookRoom(3)">Đặt ngay</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Room Card 4 -->
            <div class="room-card" data-type="Suite" data-price="6500000" data-rating="5.0" data-tags="available,luxury">
                <div class="room-image">
                    <img src="download (6).jfif" alt="Private Pool Villa">
                    <div class="room-badges">
                        <span class="badge available">Còn trống</span>
                    </div>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">♡</button>
                </div>
                <div class="room-content">
                    <div class="room-header">
                        <h3 class="room-type">Private Pool Villa</h3>
                        <div class="room-rating">
                            <span>⭐ 5.0</span>
                        </div>
                    </div>
                    <div class="room-features">
                        <div class="features-list">
                            <span class="feature">📐 90 m²</span>
                            <span class="feature">🏊‍♂️ Hồ bơi riêng</span>
                            <span class="feature">🍖 BBQ ngoài trời</span>
                            <span class="feature">👥 6 khách</span>
                        </div>
                    </div>
                    <div class="room-amenities">
                        <div class="amenities-title">🏨 Tiện nghi:</div>
                        <div class="amenities-grid">
                            <div class="amenity">📶 WiFi tốc độ cao</div>
                            <div class="amenity">❄️ Điều hòa trung tâm</div>
                            <div class="amenity">📺 Smart TV 65"</div>
                            <div class="amenity">🧑‍🍳 Bếp đầy đủ</div>
                            <div class="amenity">🚗 Chỗ đậu xe riêng</div>
                            <div class="amenity">🛀 Jacuzzi</div>
                        </div>
                    </div>
                    <div class="room-footer">
                        <div class="price-section">
                            <div class="current-price">6,500,000₫</div>
                            <div class="price-note">/ đêm, bao gồm butler</div>
                        </div>
                        <div class="room-actions">
                            <button class="btn btn-small btn-outline" onclick="viewRoomDetails(4)">Chi tiết</button>
                            <button class="btn btn-small btn-primary" onclick="bookRoom(4)">Đặt ngay</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- No Results -->
        <div class="no-results" id="noResults" style="display:none;">
            <h3>😔 Không tìm thấy phòng phù hợp</h3>
            <p>Hãy thử điều chỉnh bộ lọc của bạn để tìm thêm tùy chọn.</p>
        </div>

        <!-- Pagination -->
        <div class="pagination">
            <button class="page-btn" onclick="changePage(-1)" disabled>← Trước</button>
            <button class="page-btn active" onclick="goToPage(1)">1</button>
            <button class="page-btn" onclick="goToPage(2)">2</button>
            <button class="page-btn" onclick="goToPage(3)">3</button>
            <button class="page-btn" onclick="changePage(1)">Sau →</button>
        </div>
    </div>

    <script>
        // Global variables
        let currentPage = 1;
        let currentView = 'grid';
        let activeFilters = new Set();
        let allRooms = [];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadRooms();
            setupDateInputs();
            updateResultsCount();
        });